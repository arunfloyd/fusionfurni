<%- include('header.ejs') %>

<body>
  <div class="screen-overlay">
    
  </div>
  
  <%- include('navbar-aside.ejs') %>
  <main class="main-wrap">
    
    <section class="content-main">
      <% if(message && message.length > 0) { %>
        <p style="color: green;"><%= message %></p>
    <% } %>
      <div class="content-header">
        <div>
          <h2 class="content-title card-title">Products List</h2>
          <p>Here is the list of products</p>
        </div>
      </div>
      <div class="card mb-4">
        <header class="card-header">
          <div class="row align-items-center">
              
              <div class="col-md-3 col-12 me-auto mb-md-0 mb-3">
                <form action="">
                  <div class="input-group">
                    <input
                      id="search-input"
                      type="search"
                      class="form-control"
                      placeholder="Search  Products"
                      name="Search"
                    />
                    <button id="search-button" type="submit" class="btn btn-primary" value="Search">
                      Search
                    </button>
                  </div>
              </div>
             
              <div class="col-md-3 col-6">
                <div class="form-group mt-3">
                  <label for="sort-dropdown" style="color: black">Filter:</label>
                  <select class="form-control" id="sort-dropdown" name="Sort">
                    <option value="default">Default</option>
                    <option value="priceHigh">Price High to Low</option>
                    <option value="priceLow">Price Low to High</option>
                  </select>
                </div>
                <button id="search-button" type="submit" class="btn btn-primary" value="Search">
                  Go
                </button>
              </div>
          </div>
      </header>
    </div>
      <div class="card mb-4">
        <div class="card-body">
          <% if (getallProduct.length > 0) { for (let i = 0; i <
          getallProduct.length; i++) { %>
          <article class="itemlist">
            <div class="row align-items-center">
              <div class="col col-check flex-grow-0"></div>
              <div class="col-lg-2 col-sm-4 col-8 flex-grow-1 col-name">
                <a class="itemside" href="#">
                  <div class="left">
                    <img
                      src="/productImage/<%= getallProduct[i].images[0] %>"
                      class="img-sm img"
                      alt="Item"
                    />
                  </div>
                  <div class="info">
                    <h6>Product Title</h6>
                    <h4 cla ss="mb-0"><%= getallProduct[i].title %></h4>
                  </div>
                </a>
              </div>
              <div class="col-lg-2 col-sm-2 col-4 col-price">
                <h6>Qty</h6>
                <span><%= getallProduct[i].quantity %></span>
              </div>
              <div class="col-lg-2 col-sm-2 col-4 col-price">
                <h6>Price</h6>
                <span> â‚¹ <%= getallProduct[i].price %></span>
              </div>
              <div class="col-lg-2 col-sm-2 col-4 col-status">
                <h6>List or Unlisted</h6>
                <span
                  class="badge rounded-pill <%= getallProduct[i].list ? 'alert-success' : 'alert-danger' %>"
                >
                  <%= getallProduct[i].list ? 'Listed' : 'Unlisted' %>
                </span>
              </div>

              <div class="col-lg-2 col-sm-2 col-4 col-action text-end">
                <h6>Make Changes</h6>
                <a
                  href="/admin/product/<%= getallProduct[i]._id %>"
                  class="btn btn-sm font-sm rounded btn-brand"
                >
                  <i class="material-icons md-edit"></i> Edit
                </a>
              </div>
            </div>
          </article>
          <% } } else { %>
          <td colspan="5">Products Not Found</td>
          <% } %>
        </div>
        <!-- card-body end// -->
      </div>
      <!-- card end// -->
      <div class="container text-center mt-4">
       
      </div>
      <div class="container text-center mt-4">
        <nav aria-label="...">
          <ul class="pagination justify-content-center">
            <% if (currentPage > 1) { %>
            <li class="page-item">
              <a
                class="page-link"
                href="?page=<%= currentPage - 1 %>&Search=<%= search %>&Sort=<%= sortOrder %>"
                tabindex="-1"
                >Previous</a
              >
            </li>
            <% } else { %>
            <li class="page-item disabled">
              <span class="page-link" tabindex="-1">Previous</span>
            </li>
            <% } %> <% for (let i = 1; i <= totalPages; i++) { %>
            <li class="page-item <%= (i === currentPage) ? 'active' : '' %>">
              <a
                class="page-link"
                href="?page=<%= i %>&Search=<%= search %>&Sort=<%= sortOrder %>"
                ><%= i %></a
              >
            </li>
            <% } %> <% if (currentPage < totalPages) { %>
            <li class="page-item">
              <a
                class="page-link"
                href="?page=<%= currentPage + 1 %>&Search=<%= search %>&Sort=<%= sortOrder %>"
                >Next</a
              >
            </li>
            <% } else { %>
            <li class="page-item disabled">
              <span class="page-link">Next</span>
            </li>
            <% } %>
          </ul>
        </nav>
      </div>

      
    </section>
    <!-- content-main end// -->
    <%- include('footer.ejs') %>
  </main>
</body>
